(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a2bd302"],{"3bb9":function(e,t,s){"use strict";var r=s("47c9"),n=s.n(r);n.a},"47c9":function(e,t,s){},b295:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("header",{staticClass:"jumbotron bg-info"},[s("h3",[e._v(e._s(e.content))]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Chercher par pseudo"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:e.searchUsername}},[e._v("\n            Chercher\n          ")])])])]),s("button",{staticClass:"m-3 btn btn-sm btn-danger",on:{click:e.removeAllUsers}},[e._v("\n      Tout supprimer\n    ")]),s("div",{staticClass:"list row"},[s("div",{staticClass:"col-md-4"},[s("h4",[e._v("Liste des utilisateurs")]),s("ul",{staticClass:"list-group"},e._l(e.users,(function(t,r){return s("li",{key:r,staticClass:"list-group-item",class:{active:r===e.currentIndex},on:{click:function(s){return e.setActiveUser(t,r)}}},[e._v("\n            "+e._s(t.username)+"\n          ")])})),0)]),s("div",{staticClass:"col-md-6"},[e.currentUser?s("div",{staticClass:"edit-form"},[s("h4",[e._v("Utilisateur à modifier")]),s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Pseudo")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.username,expression:"currentUser.username"}],staticClass:"form-control",attrs:{type:"text",id:"pseudo"},domProps:{value:e.currentUser.username},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"username",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.email,expression:"currentUser.email"}],staticClass:"form-control",attrs:{type:"text",id:"email"},domProps:{value:e.currentUser.email},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"email",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[e._v("Mot de passe")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUser.password,expression:"currentUser.password"}],staticClass:"form-control",attrs:{type:"text",id:"password"},domProps:{value:e.currentUser.password},on:{input:function(t){t.target.composing||e.$set(e.currentUser,"password",t.target.value)}}})])]),s("button",{staticClass:"badge badge-danger mr-2",on:{click:e.deleteUser}},[e._v("\n            supprimer\n          ")]),s("button",{staticClass:"badge badge-success",attrs:{type:"submit"},on:{click:e.updateUser}},[e._v("\n            Modifier\n          ")]),s("p",[e._v(e._s(e.message))])]):e._e()]),s("div",{staticClass:"col-md-6"},[e.currentUser?s("div",[s("h4",[e._v("Utilisateur")]),s("div",[e._m(0),e._v(" "+e._s(e.currentUser.username)+"\n          ")]),s("div",[e._m(1),e._v(" "+e._s(e.currentUser.email)+"\n          ")])]):s("div",[s("br"),s("p",[e._v("Cliquer sur un utilisateur...")])])])])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",[s("strong",[e._v("Pseudo:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",[s("strong",[e._v("Email:")])])}],a=(s("6b54"),s("1f57")),i={name:"Admin",data:function(){return{content:"",users:[],currentUser:null,currentIndex:-1,username:"",message:""}},methods:{retrieveUsers:function(){var e=this;a["a"].getUsers().then((function(t){e.users=t.data})).catch((function(e){console.log(e)}))},refreshList:function(){this.retrieveUsers(),this.currentUser=null,this.currentIndex=-1},setActiveUser:function(e,t){this.currentUser=e,this.currentIndex=t},removeAllUsers:function(){var e=this;a["a"].deleteAll().then((function(t){e.refreshList(),console.log(t.data)})).catch((function(e){console.log(e)}))},searchUsername:function(){var e=this;a["a"].findByUsername(this.username).then((function(t){e.users=t.data,console.log(t.data)})).catch((function(e){console.log(e)}))},updateUser:function(){var e=this;a["a"].update(this.currentUser.username,this.currentUser).then((function(t){console.log(t.data),e.message="Profile mis à jour avec succès!"})).catch((function(e){console.log(e)}))},deleteUser:function(){var e=this;a["a"].delete(this.currentUser.username).then((function(t){console.log(t.data),e.$router.push({name:"users"})})).catch((function(e){console.log(e)}))}},mounted:function(){var e=this;this.retrieveUsers(),this.message="",a["a"].getAdminBoard().then((function(t){e.content=t.data}),(function(t){e.content=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}))}},o=i,c=(s("3bb9"),s("2877")),u=Object(c["a"])(o,r,n,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-6a2bd302.12a9355a.js.map